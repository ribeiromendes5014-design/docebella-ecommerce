{% if banners %}
<div id="bannerCarousel" class="carousel slide" data-bs-ride="carousel">
  
  {# 1. INDICADORES (Opcional, mas recomendado) #}
  <div class="carousel-indicators">
    {% for banner in banners %}
      {% if banner.ativo %}
        <button type="button" 
                data-bs-target="#bannerCarousel" 
                data-bs-slide-to="{{ forloop.counter0 }}" 
                class="{% if forloop.first %}active{% endif %}" 
                aria-current="{% if forloop.first %}true{% endif %}" 
                aria-label="Slide {{ forloop.counter }}">
        </button>
      {% endif %}
    {% endfor %}
  </div>

  {# 2. ITENS DO CARROSSEL (O Seu Código Original, que está correto) #}
  <div class="carousel-inner">
    {% for banner in banners %}
      {% if banner.ativo %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          {% if banner.link %}
            <a href="{{ banner.link }}">
              <img src="{{ banner.imagem.url }}" class="d-block w-100" alt="{{ banner.titulo }}">
            </a>
          {% else %}
            <img src="{{ banner.imagem.url }}" class="d-block w-100" alt="{{ banner.titulo }}">
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}
  </div>

  {# 3. CONTROLES (Setas de Navegação) #}
  <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Próximo</span>
  </button>

</div>
{% endif %}
